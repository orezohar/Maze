
// R0 - curser row
// R1 - curser column
// R2 - to-be curser row following movemenet
// R3 - to-be curser column following movemenet
// R4 - endpoint row
// R5 - endpoint column
// R6 - total number of maze bricks
// R7 - total number of "THE END" drawing bricks
// R8 - end flag - equals 1 if should end 0 otherwise

// Insert the "THE END" drawing to address 2000+
@INSERTTHEEND
0;JMP
// Insert the Maze drawing to address 1000+
@INSERTMAZE
0;JMP
// Init R8 to 0 
@R8
M=0

(INIT)
@R6
D=M
@bricksCount
M=D
@1000
D=A
@mazeBaseAddr
M=D
@21845 // color for draw (decimal of 0101010101010101)
D=A
@getDrawValue
M=D
(INITMAZE)
@bricksCount
D=M
@INITCURSER
D;JEQ
@mazeBaseAddr
A=M
D=M
@R0
M=D
@mazeBaseAddr
M=M+1
A=M
D=M
@R1
M=D
@mazeBaseAddr
M=M+1
// now draw
@DRAWRETURN
D=A
@funcReturnAddr
M=D
@DRAWCURSER
0;JMP
(DRAWRETURN)
@bricksCount
M=M-1
@INITMAZE
0;JMP

(INITCURSER)
// function to draw curser at (R0,R1) with -1 color

// end if should end
@R8
D=M
@END
D;JNE

@R0
M=1
@R1
M=0
@getDrawValue
M=-1
@KBDLOOP
D=A
@funcReturnAddr
M=D
@DRAWCURSER
0;JMP

// loop for keyboard clicked
// first wait for a 0 and then wait for char. This is required since otherwise the curser is
// too fast
(KBDLOOP)
@R1
D=M
@30
D=D-A
@KBD1
D;JNE
// prepare to draw THE END
@R7
D=M
@bricksCount
M=D
@2000
D=A
@mazeBaseAddr
M=D
D=-1
@getDrawValue
M=D
@R8
M=1
@INITMAZE
0;JMP

(KBD1)
@KBD
D=M
@KBDLOOP
D,JNE
(KBDLOOP1)
@KBD
D=M
@KBDLOOP1
D,JEQ
@kbdValue
M = D

// update (R2,R3) to duplicate (R0,R1). This will allow testing validity later
// without actually affecting the coordinates of the curser
@R0
D=M
@R2
M=D
@R1
D=M
@R3
M=D

// test for arrow values (130-left,132-right,131-up,133-down) - a mistake in documentation
@kbdValue
D = M
@130 //test left
D=D-A
@TESTRIGHT
D;JNE
@R3 // left clicked
M=M-1
@TESTVALID
0;JMP
(TESTRIGHT)
@kbdValue
D = M
@132
D=D-A //test right
@TESTUP
D;JNE
@R3 // right clicked
M=M+1
@TESTVALID
0;JMP
(TESTUP)
@kbdValue
D = M
@131
D=D-A //test up
@TESTDOWN
D;JNE
@R2 // up clicked
M=M-1
@TESTVALID
0;JMP
(TESTDOWN)
@kbdValue
D = M
@133
D=D-A //test down
@KBDLOOP
D;JNE
@R2 // down clicked
M=M+1
@TESTVALID
0;JMP

(TESTVALID)
// first check if we are below zeros ort above alowed coordinates
@R2
D=M
@KBDLOOP
D;JLT
@16
D=D-A
@KBDLOOP
D;JGE
@R3
D=M
@KBDLOOP
D;JLT
@32
D=D-A
@KBDLOOP
D;JGE
// now we need to check that new location is not actually a wall
// this is done by looking at the screen in the designated position and 
// verifying that color is 0
@TESTLOCVALID
D=A
@funcReturnAddr
M=D
@CHECKCURSERVALID
0;JMP
(TESTLOCVALID)
@locationValid
M=M-1
D=M
@KBDLOOP
D;JNE // this means invalid

// we got here so future values are valid. we need to:
// 1. delete previous curser by drawing with color 0
// 2. copy R2->R0, R3->R1
// 3. draw curser at new position using color -1
// 4. go back to KBDLOOP

// call function to draw curser at (R0,R1) with 0 color
@getDrawValue
M=0
@COPYNEWVALUES
D=A
@funcReturnAddr
M=D
@DRAWCURSER
0;JMP

(COPYNEWVALUES)
// update (R0,R1) with (R2,R3) 
@R2
D=M
@R0
M=D
@R3
D=M
@R1
M=D
// call function to draw curser at (R0,R1) with -1 color
@getDrawValue
M=-1
@KBDLOOP
D=A
@funcReturnAddr
M=D
@DRAWCURSER
0;JMP


(DRAWCURSER)
@SCREEN
D=A
@curserBase
M=D
@R1
D=M
@curserBase
M=M+D
// now use iterations to add 32 for each row as in R0
@R0
D=M
@i
M=D
(ROWLOOP)
// check if i is 0
@i
D=M
@ENDROWLOOP // if so, jump to the end of the row loop
D;JEQ
// else...
@512 // 32 * 16
D=A
@curserBase
M=M+D
@i
M=M-1
@ROWLOOP
0;JMP
(ENDROWLOOP)
@16
D=A
@i
M=D // need to repeat this draw 16 times
(LOOPCURSERWIDTH)
@i
D=M
@ENDLOOPCURSERWIDTH
D;JEQ
@getDrawValue
D=M
@curserBase
A=M
M=D
@32
D=A
@curserBase
M=M+D
@i
M=M-1
@LOOPCURSERWIDTH
0;JMP
(ENDLOOPCURSERWIDTH)
@funcReturnAddr
A=M
0;JMP


// checks if future curser position is valid i.e. value is 0
// value is returned in location @locationValid
(CHECKCURSERVALID)
@locationValid
M=0
@SCREEN
D=A
@curserBase
M=D
@R3
D=M
@curserBase
M=M+D
// now use iterations to add 32 for each row as in R2
@R2
D=M
@k
M=D
(ROWLOOPV)
// check if k is 0
@k
D=M
@ENDROWLOOPV // if so, jump to the end of the row loop
D;JEQ
// else...
@512 // 32 * 16
D=A
@curserBase
M=M+D
@k
M=M-1
@ROWLOOPV
0;JMP
(ENDROWLOOPV)
@curserBase
A=M
D=M
@ENDVALIDATION
D;JNE // only 0 is a valid value here
@locationValid
M=1
(ENDVALIDATION)
@funcReturnAddr
A=M
0;JMP

(INSERTMAZE)
@254
D=A
@R6
M=D

// the following lines are copied from a javascript operated on the following website
// https://keesiemeijer.github.io/maze-generator/#generate
// a maze is generated with 15 columns and 7 rows. a breakpoint is placed at the end
// of Maze.prototype.draw function at the end of maze.js. Then the following script is 
// executed, and myString is copied here. nCount value is saved in R6
// 
// let nCount=0 ;
// let addr = 1000 ; 
// let myString = "";
// for (let i = 0; i < row_count; i++) {
// 		let row_length = this.matrix[i].length;
//		for (let j = 0; j < row_length; j++) {
//			if (gateEntry && gateExit) {
//				if ((j === gateEntry.x) && (i === gateEntry.y)) {
//					continue;
//				}
//				if ((j === gateExit.x) && (i === gateExit.y)) {
//					continue;
//				}
//			}
//			let pixel = parseInt(this.matrix[i].charAt(j), 10);
//			if (pixel) {
//              nCount+=1;
//              myString += "@"+i+"\n";
//              myString += "D=A"+"\n";
//              myString += "@"+addr+"\n";
//              addr++;
//              myString += "M=D"+"\n";
//              myString += "@"+j+"\n";
//              myString += "D=A"+"\n";
//              myString += "@"+addr+"\n";
//              addr++;
//              myString += "M=D"+"\n";
//			}
//		}
//	}
//  console.log(myString)
//  console.log(nCount)


@0
D=A
@1000
M=D
@0
D=A
@1001
M=D
@0
D=A
@1002
M=D
@1
D=A
@1003
M=D
@0
D=A
@1004
M=D
@2
D=A
@1005
M=D
@0
D=A
@1006
M=D
@3
D=A
@1007
M=D
@0
D=A
@1008
M=D
@4
D=A
@1009
M=D
@0
D=A
@1010
M=D
@5
D=A
@1011
M=D
@0
D=A
@1012
M=D
@6
D=A
@1013
M=D
@0
D=A
@1014
M=D
@7
D=A
@1015
M=D
@0
D=A
@1016
M=D
@8
D=A
@1017
M=D
@0
D=A
@1018
M=D
@9
D=A
@1019
M=D
@0
D=A
@1020
M=D
@10
D=A
@1021
M=D
@0
D=A
@1022
M=D
@11
D=A
@1023
M=D
@0
D=A
@1024
M=D
@12
D=A
@1025
M=D
@0
D=A
@1026
M=D
@13
D=A
@1027
M=D
@0
D=A
@1028
M=D
@14
D=A
@1029
M=D
@0
D=A
@1030
M=D
@15
D=A
@1031
M=D
@0
D=A
@1032
M=D
@16
D=A
@1033
M=D
@0
D=A
@1034
M=D
@17
D=A
@1035
M=D
@0
D=A
@1036
M=D
@18
D=A
@1037
M=D
@0
D=A
@1038
M=D
@19
D=A
@1039
M=D
@0
D=A
@1040
M=D
@20
D=A
@1041
M=D
@0
D=A
@1042
M=D
@21
D=A
@1043
M=D
@0
D=A
@1044
M=D
@22
D=A
@1045
M=D
@0
D=A
@1046
M=D
@23
D=A
@1047
M=D
@0
D=A
@1048
M=D
@24
D=A
@1049
M=D
@0
D=A
@1050
M=D
@25
D=A
@1051
M=D
@0
D=A
@1052
M=D
@26
D=A
@1053
M=D
@0
D=A
@1054
M=D
@27
D=A
@1055
M=D
@0
D=A
@1056
M=D
@28
D=A
@1057
M=D
@0
D=A
@1058
M=D
@29
D=A
@1059
M=D
@0
D=A
@1060
M=D
@30
D=A
@1061
M=D
@1
D=A
@1062
M=D
@4
D=A
@1063
M=D
@1
D=A
@1064
M=D
@16
D=A
@1065
M=D
@1
D=A
@1066
M=D
@30
D=A
@1067
M=D
@2
D=A
@1068
M=D
@0
D=A
@1069
M=D
@2
D=A
@1070
M=D
@2
D=A
@1071
M=D
@2
D=A
@1072
M=D
@4
D=A
@1073
M=D
@2
D=A
@1074
M=D
@6
D=A
@1075
M=D
@2
D=A
@1076
M=D
@7
D=A
@1077
M=D
@2
D=A
@1078
M=D
@8
D=A
@1079
M=D
@2
D=A
@1080
M=D
@10
D=A
@1081
M=D
@2
D=A
@1082
M=D
@12
D=A
@1083
M=D
@2
D=A
@1084
M=D
@13
D=A
@1085
M=D
@2
D=A
@1086
M=D
@14
D=A
@1087
M=D
@2
D=A
@1088
M=D
@15
D=A
@1089
M=D
@2
D=A
@1090
M=D
@16
D=A
@1091
M=D
@2
D=A
@1092
M=D
@18
D=A
@1093
M=D
@2
D=A
@1094
M=D
@19
D=A
@1095
M=D
@2
D=A
@1096
M=D
@20
D=A
@1097
M=D
@2
D=A
@1098
M=D
@21
D=A
@1099
M=D
@2
D=A
@1100
M=D
@22
D=A
@1101
M=D
@2
D=A
@1102
M=D
@24
D=A
@1103
M=D
@2
D=A
@1104
M=D
@25
D=A
@1105
M=D
@2
D=A
@1106
M=D
@26
D=A
@1107
M=D
@2
D=A
@1108
M=D
@27
D=A
@1109
M=D
@2
D=A
@1110
M=D
@28
D=A
@1111
M=D
@2
D=A
@1112
M=D
@30
D=A
@1113
M=D
@3
D=A
@1114
M=D
@0
D=A
@1115
M=D
@3
D=A
@1116
M=D
@2
D=A
@1117
M=D
@3
D=A
@1118
M=D
@6
D=A
@1119
M=D
@3
D=A
@1120
M=D
@10
D=A
@1121
M=D
@3
D=A
@1122
M=D
@12
D=A
@1123
M=D
@3
D=A
@1124
M=D
@18
D=A
@1125
M=D
@3
D=A
@1126
M=D
@24
D=A
@1127
M=D
@3
D=A
@1128
M=D
@28
D=A
@1129
M=D
@3
D=A
@1130
M=D
@30
D=A
@1131
M=D
@4
D=A
@1132
M=D
@0
D=A
@1133
M=D
@4
D=A
@1134
M=D
@1
D=A
@1135
M=D
@4
D=A
@1136
M=D
@2
D=A
@1137
M=D
@4
D=A
@1138
M=D
@3
D=A
@1139
M=D
@4
D=A
@1140
M=D
@4
D=A
@1141
M=D
@4
D=A
@1142
M=D
@5
D=A
@1143
M=D
@4
D=A
@1144
M=D
@6
D=A
@1145
M=D
@4
D=A
@1146
M=D
@8
D=A
@1147
M=D
@4
D=A
@1148
M=D
@9
D=A
@1149
M=D
@4
D=A
@1150
M=D
@10
D=A
@1151
M=D
@4
D=A
@1152
M=D
@12
D=A
@1153
M=D
@4
D=A
@1154
M=D
@14
D=A
@1155
M=D
@4
D=A
@1156
M=D
@15
D=A
@1157
M=D
@4
D=A
@1158
M=D
@16
D=A
@1159
M=D
@4
D=A
@1160
M=D
@17
D=A
@1161
M=D
@4
D=A
@1162
M=D
@18
D=A
@1163
M=D
@4
D=A
@1164
M=D
@20
D=A
@1165
M=D
@4
D=A
@1166
M=D
@21
D=A
@1167
M=D
@4
D=A
@1168
M=D
@22
D=A
@1169
M=D
@4
D=A
@1170
M=D
@23
D=A
@1171
M=D
@4
D=A
@1172
M=D
@24
D=A
@1173
M=D
@4
D=A
@1174
M=D
@25
D=A
@1175
M=D
@4
D=A
@1176
M=D
@26
D=A
@1177
M=D
@4
D=A
@1178
M=D
@28
D=A
@1179
M=D
@4
D=A
@1180
M=D
@30
D=A
@1181
M=D
@5
D=A
@1182
M=D
@0
D=A
@1183
M=D
@5
D=A
@1184
M=D
@8
D=A
@1185
M=D
@5
D=A
@1186
M=D
@12
D=A
@1187
M=D
@5
D=A
@1188
M=D
@14
D=A
@1189
M=D
@5
D=A
@1190
M=D
@18
D=A
@1191
M=D
@5
D=A
@1192
M=D
@22
D=A
@1193
M=D
@5
D=A
@1194
M=D
@26
D=A
@1195
M=D
@5
D=A
@1196
M=D
@30
D=A
@1197
M=D
@6
D=A
@1198
M=D
@0
D=A
@1199
M=D
@6
D=A
@1200
M=D
@2
D=A
@1201
M=D
@6
D=A
@1202
M=D
@3
D=A
@1203
M=D
@6
D=A
@1204
M=D
@4
D=A
@1205
M=D
@6
D=A
@1206
M=D
@5
D=A
@1207
M=D
@6
D=A
@1208
M=D
@6
D=A
@1209
M=D
@6
D=A
@1210
M=D
@7
D=A
@1211
M=D
@6
D=A
@1212
M=D
@8
D=A
@1213
M=D
@6
D=A
@1214
M=D
@10
D=A
@1215
M=D
@6
D=A
@1216
M=D
@11
D=A
@1217
M=D
@6
D=A
@1218
M=D
@12
D=A
@1219
M=D
@6
D=A
@1220
M=D
@14
D=A
@1221
M=D
@6
D=A
@1222
M=D
@16
D=A
@1223
M=D
@6
D=A
@1224
M=D
@17
D=A
@1225
M=D
@6
D=A
@1226
M=D
@18
D=A
@1227
M=D
@6
D=A
@1228
M=D
@19
D=A
@1229
M=D
@6
D=A
@1230
M=D
@20
D=A
@1231
M=D
@6
D=A
@1232
M=D
@22
D=A
@1233
M=D
@6
D=A
@1234
M=D
@24
D=A
@1235
M=D
@6
D=A
@1236
M=D
@26
D=A
@1237
M=D
@6
D=A
@1238
M=D
@28
D=A
@1239
M=D
@6
D=A
@1240
M=D
@29
D=A
@1241
M=D
@6
D=A
@1242
M=D
@30
D=A
@1243
M=D
@7
D=A
@1244
M=D
@0
D=A
@1245
M=D
@7
D=A
@1246
M=D
@2
D=A
@1247
M=D
@7
D=A
@1248
M=D
@12
D=A
@1249
M=D
@7
D=A
@1250
M=D
@14
D=A
@1251
M=D
@7
D=A
@1252
M=D
@20
D=A
@1253
M=D
@7
D=A
@1254
M=D
@22
D=A
@1255
M=D
@7
D=A
@1256
M=D
@24
D=A
@1257
M=D
@7
D=A
@1258
M=D
@26
D=A
@1259
M=D
@7
D=A
@1260
M=D
@28
D=A
@1261
M=D
@7
D=A
@1262
M=D
@30
D=A
@1263
M=D
@8
D=A
@1264
M=D
@0
D=A
@1265
M=D
@8
D=A
@1266
M=D
@2
D=A
@1267
M=D
@8
D=A
@1268
M=D
@3
D=A
@1269
M=D
@8
D=A
@1270
M=D
@4
D=A
@1271
M=D
@8
D=A
@1272
M=D
@5
D=A
@1273
M=D
@8
D=A
@1274
M=D
@6
D=A
@1275
M=D
@8
D=A
@1276
M=D
@8
D=A
@1277
M=D
@8
D=A
@1278
M=D
@9
D=A
@1279
M=D
@8
D=A
@1280
M=D
@10
D=A
@1281
M=D
@8
D=A
@1282
M=D
@11
D=A
@1283
M=D
@8
D=A
@1284
M=D
@12
D=A
@1285
M=D
@8
D=A
@1286
M=D
@14
D=A
@1287
M=D
@8
D=A
@1288
M=D
@15
D=A
@1289
M=D
@8
D=A
@1290
M=D
@16
D=A
@1291
M=D
@8
D=A
@1292
M=D
@18
D=A
@1293
M=D
@8
D=A
@1294
M=D
@20
D=A
@1295
M=D
@8
D=A
@1296
M=D
@22
D=A
@1297
M=D
@8
D=A
@1298
M=D
@24
D=A
@1299
M=D
@8
D=A
@1300
M=D
@26
D=A
@1301
M=D
@8
D=A
@1302
M=D
@27
D=A
@1303
M=D
@8
D=A
@1304
M=D
@28
D=A
@1305
M=D
@8
D=A
@1306
M=D
@30
D=A
@1307
M=D
@9
D=A
@1308
M=D
@0
D=A
@1309
M=D
@9
D=A
@1310
M=D
@6
D=A
@1311
M=D
@9
D=A
@1312
M=D
@10
D=A
@1313
M=D
@9
D=A
@1314
M=D
@14
D=A
@1315
M=D
@9
D=A
@1316
M=D
@18
D=A
@1317
M=D
@9
D=A
@1318
M=D
@20
D=A
@1319
M=D
@9
D=A
@1320
M=D
@24
D=A
@1321
M=D
@9
D=A
@1322
M=D
@30
D=A
@1323
M=D
@10
D=A
@1324
M=D
@0
D=A
@1325
M=D
@10
D=A
@1326
M=D
@2
D=A
@1327
M=D
@10
D=A
@1328
M=D
@3
D=A
@1329
M=D
@10
D=A
@1330
M=D
@4
D=A
@1331
M=D
@10
D=A
@1332
M=D
@6
D=A
@1333
M=D
@10
D=A
@1334
M=D
@7
D=A
@1335
M=D
@10
D=A
@1336
M=D
@8
D=A
@1337
M=D
@10
D=A
@1338
M=D
@9
D=A
@1339
M=D
@10
D=A
@1340
M=D
@10
D=A
@1341
M=D
@10
D=A
@1342
M=D
@12
D=A
@1343
M=D
@10
D=A
@1344
M=D
@13
D=A
@1345
M=D
@10
D=A
@1346
M=D
@14
D=A
@1347
M=D
@10
D=A
@1348
M=D
@16
D=A
@1349
M=D
@10
D=A
@1350
M=D
@17
D=A
@1351
M=D
@10
D=A
@1352
M=D
@18
D=A
@1353
M=D
@10
D=A
@1354
M=D
@20
D=A
@1355
M=D
@10
D=A
@1356
M=D
@21
D=A
@1357
M=D
@10
D=A
@1358
M=D
@22
D=A
@1359
M=D
@10
D=A
@1360
M=D
@23
D=A
@1361
M=D
@10
D=A
@1362
M=D
@24
D=A
@1363
M=D
@10
D=A
@1364
M=D
@25
D=A
@1365
M=D
@10
D=A
@1366
M=D
@26
D=A
@1367
M=D
@10
D=A
@1368
M=D
@27
D=A
@1369
M=D
@10
D=A
@1370
M=D
@28
D=A
@1371
M=D
@10
D=A
@1372
M=D
@29
D=A
@1373
M=D
@10
D=A
@1374
M=D
@30
D=A
@1375
M=D
@11
D=A
@1376
M=D
@0
D=A
@1377
M=D
@11
D=A
@1378
M=D
@4
D=A
@1379
M=D
@11
D=A
@1380
M=D
@6
D=A
@1381
M=D
@11
D=A
@1382
M=D
@10
D=A
@1383
M=D
@11
D=A
@1384
M=D
@12
D=A
@1385
M=D
@11
D=A
@1386
M=D
@16
D=A
@1387
M=D
@11
D=A
@1388
M=D
@20
D=A
@1389
M=D
@11
D=A
@1390
M=D
@26
D=A
@1391
M=D
@11
D=A
@1392
M=D
@30
D=A
@1393
M=D
@12
D=A
@1394
M=D
@0
D=A
@1395
M=D
@12
D=A
@1396
M=D
@1
D=A
@1397
M=D
@12
D=A
@1398
M=D
@2
D=A
@1399
M=D
@12
D=A
@1400
M=D
@4
D=A
@1401
M=D
@12
D=A
@1402
M=D
@6
D=A
@1403
M=D
@12
D=A
@1404
M=D
@8
D=A
@1405
M=D
@12
D=A
@1406
M=D
@10
D=A
@1407
M=D
@12
D=A
@1408
M=D
@12
D=A
@1409
M=D
@12
D=A
@1410
M=D
@13
D=A
@1411
M=D
@12
D=A
@1412
M=D
@14
D=A
@1413
M=D
@12
D=A
@1414
M=D
@16
D=A
@1415
M=D
@12
D=A
@1416
M=D
@18
D=A
@1417
M=D
@12
D=A
@1418
M=D
@19
D=A
@1419
M=D
@12
D=A
@1420
M=D
@20
D=A
@1421
M=D
@12
D=A
@1422
M=D
@22
D=A
@1423
M=D
@12
D=A
@1424
M=D
@23
D=A
@1425
M=D
@12
D=A
@1426
M=D
@24
D=A
@1427
M=D
@12
D=A
@1428
M=D
@26
D=A
@1429
M=D
@12
D=A
@1430
M=D
@27
D=A
@1431
M=D
@12
D=A
@1432
M=D
@28
D=A
@1433
M=D
@12
D=A
@1434
M=D
@30
D=A
@1435
M=D
@13
D=A
@1436
M=D
@0
D=A
@1437
M=D
@13
D=A
@1438
M=D
@4
D=A
@1439
M=D
@13
D=A
@1440
M=D
@8
D=A
@1441
M=D
@13
D=A
@1442
M=D
@16
D=A
@1443
M=D
@13
D=A
@1444
M=D
@22
D=A
@1445
M=D
@14
D=A
@1446
M=D
@0
D=A
@1447
M=D
@14
D=A
@1448
M=D
@1
D=A
@1449
M=D
@14
D=A
@1450
M=D
@2
D=A
@1451
M=D
@14
D=A
@1452
M=D
@3
D=A
@1453
M=D
@14
D=A
@1454
M=D
@4
D=A
@1455
M=D
@14
D=A
@1456
M=D
@5
D=A
@1457
M=D
@14
D=A
@1458
M=D
@6
D=A
@1459
M=D
@14
D=A
@1460
M=D
@7
D=A
@1461
M=D
@14
D=A
@1462
M=D
@8
D=A
@1463
M=D
@14
D=A
@1464
M=D
@9
D=A
@1465
M=D
@14
D=A
@1466
M=D
@10
D=A
@1467
M=D
@14
D=A
@1468
M=D
@11
D=A
@1469
M=D
@14
D=A
@1470
M=D
@12
D=A
@1471
M=D
@14
D=A
@1472
M=D
@13
D=A
@1473
M=D
@14
D=A
@1474
M=D
@14
D=A
@1475
M=D
@14
D=A
@1476
M=D
@15
D=A
@1477
M=D
@14
D=A
@1478
M=D
@16
D=A
@1479
M=D
@14
D=A
@1480
M=D
@17
D=A
@1481
M=D
@14
D=A
@1482
M=D
@18
D=A
@1483
M=D
@14
D=A
@1484
M=D
@19
D=A
@1485
M=D
@14
D=A
@1486
M=D
@20
D=A
@1487
M=D
@14
D=A
@1488
M=D
@21
D=A
@1489
M=D
@14
D=A
@1490
M=D
@22
D=A
@1491
M=D
@14
D=A
@1492
M=D
@23
D=A
@1493
M=D
@14
D=A
@1494
M=D
@24
D=A
@1495
M=D
@14
D=A
@1496
M=D
@25
D=A
@1497
M=D
@14
D=A
@1498
M=D
@26
D=A
@1499
M=D
@14
D=A
@1500
M=D
@27
D=A
@1501
M=D
@14
D=A
@1502
M=D
@28
D=A
@1503
M=D
@14
D=A
@1504
M=D
@29
D=A
@1505
M=D
@14
D=A
@1506
M=D
@30
D=A
@1507
M=D

@INIT
0;JMP


(INSERTTHEEND)
@110
D=A
@R7
M=D

// the following lines are copied from a javascript operated on the following website:
// https://github.com/ErikUmble/JackBitmapEditor/blob/main/JackBitmapEditor.html
// a drawing of "THE END" was created using this web page. a breakpoint is placed at a place where grid array is accessible
// Then the following script is 
// executed, and myString is copied here. nCount value is saved in R7 above
// 
// let nCount=0 ;
// let addr = 2000 ; 
// let myString = "";
// for (let i = 0; i < 15; i++) {
//     for (let j = 0; j < 32; j++) {
//         if (grid[i][j]) {
//                 nCount+=1;
//                 myString += "@"+i+"\n";
//                 myString += "D=A"+"\n";
//                 myString += "@"+addr+"\n";
//                 addr++;
//                 myString += "M=D"+"\n";
// 
//                 myString += "@"+j+"\n";
//                 myString += "D=A"+"\n";
//                 myString += "@"+addr+"\n";
//                 addr++;
//                 myString += "M=D"+"\n";
//         }       
//     }
// }
// console.log(myString)
// console.log(nCount)

@1
D=A
@2000
M=D
@3
D=A
@2001
M=D
@1
D=A
@2002
M=D
@4
D=A
@2003
M=D
@1
D=A
@2004
M=D
@5
D=A
@2005
M=D
@1
D=A
@2006
M=D
@7
D=A
@2007
M=D
@1
D=A
@2008
M=D
@9
D=A
@2009
M=D
@1
D=A
@2010
M=D
@11
D=A
@2011
M=D
@1
D=A
@2012
M=D
@12
D=A
@2013
M=D
@1
D=A
@2014
M=D
@13
D=A
@2015
M=D
@1
D=A
@2016
M=D
@17
D=A
@2017
M=D
@1
D=A
@2018
M=D
@18
D=A
@2019
M=D
@1
D=A
@2020
M=D
@19
D=A
@2021
M=D
@1
D=A
@2022
M=D
@21
D=A
@2023
M=D
@1
D=A
@2024
M=D
@24
D=A
@2025
M=D
@1
D=A
@2026
M=D
@26
D=A
@2027
M=D
@1
D=A
@2028
M=D
@27
D=A
@2029
M=D
@2
D=A
@2030
M=D
@4
D=A
@2031
M=D
@2
D=A
@2032
M=D
@7
D=A
@2033
M=D
@2
D=A
@2034
M=D
@9
D=A
@2035
M=D
@2
D=A
@2036
M=D
@11
D=A
@2037
M=D
@2
D=A
@2038
M=D
@17
D=A
@2039
M=D
@2
D=A
@2040
M=D
@21
D=A
@2041
M=D
@2
D=A
@2042
M=D
@22
D=A
@2043
M=D
@2
D=A
@2044
M=D
@24
D=A
@2045
M=D
@2
D=A
@2046
M=D
@26
D=A
@2047
M=D
@2
D=A
@2048
M=D
@28
D=A
@2049
M=D
@3
D=A
@2050
M=D
@4
D=A
@2051
M=D
@3
D=A
@2052
M=D
@7
D=A
@2053
M=D
@3
D=A
@2054
M=D
@8
D=A
@2055
M=D
@3
D=A
@2056
M=D
@9
D=A
@2057
M=D
@3
D=A
@2058
M=D
@11
D=A
@2059
M=D
@3
D=A
@2060
M=D
@12
D=A
@2061
M=D
@3
D=A
@2062
M=D
@13
D=A
@2063
M=D
@3
D=A
@2064
M=D
@17
D=A
@2065
M=D
@3
D=A
@2066
M=D
@18
D=A
@2067
M=D
@3
D=A
@2068
M=D
@19
D=A
@2069
M=D
@3
D=A
@2070
M=D
@21
D=A
@2071
M=D
@3
D=A
@2072
M=D
@22
D=A
@2073
M=D
@3
D=A
@2074
M=D
@23
D=A
@2075
M=D
@3
D=A
@2076
M=D
@24
D=A
@2077
M=D
@3
D=A
@2078
M=D
@26
D=A
@2079
M=D
@3
D=A
@2080
M=D
@28
D=A
@2081
M=D
@4
D=A
@2082
M=D
@4
D=A
@2083
M=D
@4
D=A
@2084
M=D
@7
D=A
@2085
M=D
@4
D=A
@2086
M=D
@9
D=A
@2087
M=D
@4
D=A
@2088
M=D
@11
D=A
@2089
M=D
@4
D=A
@2090
M=D
@17
D=A
@2091
M=D
@4
D=A
@2092
M=D
@21
D=A
@2093
M=D
@4
D=A
@2094
M=D
@23
D=A
@2095
M=D
@4
D=A
@2096
M=D
@24
D=A
@2097
M=D
@4
D=A
@2098
M=D
@26
D=A
@2099
M=D
@4
D=A
@2100
M=D
@28
D=A
@2101
M=D
@5
D=A
@2102
M=D
@4
D=A
@2103
M=D
@5
D=A
@2104
M=D
@7
D=A
@2105
M=D
@5
D=A
@2106
M=D
@9
D=A
@2107
M=D
@5
D=A
@2108
M=D
@11
D=A
@2109
M=D
@5
D=A
@2110
M=D
@12
D=A
@2111
M=D
@5
D=A
@2112
M=D
@13
D=A
@2113
M=D
@5
D=A
@2114
M=D
@17
D=A
@2115
M=D
@5
D=A
@2116
M=D
@18
D=A
@2117
M=D
@5
D=A
@2118
M=D
@19
D=A
@2119
M=D
@5
D=A
@2120
M=D
@21
D=A
@2121
M=D
@5
D=A
@2122
M=D
@24
D=A
@2123
M=D
@5
D=A
@2124
M=D
@26
D=A
@2125
M=D
@5
D=A
@2126
M=D
@27
D=A
@2127
M=D
@7
D=A
@2128
M=D
@12
D=A
@2129
M=D
@7
D=A
@2130
M=D
@13
D=A
@2131
M=D
@7
D=A
@2132
M=D
@17
D=A
@2133
M=D
@7
D=A
@2134
M=D
@18
D=A
@2135
M=D
@8
D=A
@2136
M=D
@11
D=A
@2137
M=D
@8
D=A
@2138
M=D
@12
D=A
@2139
M=D
@8
D=A
@2140
M=D
@13
D=A
@2141
M=D
@8
D=A
@2142
M=D
@14
D=A
@2143
M=D
@8
D=A
@2144
M=D
@16
D=A
@2145
M=D
@8
D=A
@2146
M=D
@17
D=A
@2147
M=D
@8
D=A
@2148
M=D
@18
D=A
@2149
M=D
@8
D=A
@2150
M=D
@19
D=A
@2151
M=D
@9
D=A
@2152
M=D
@11
D=A
@2153
M=D
@9
D=A
@2154
M=D
@12
D=A
@2155
M=D
@9
D=A
@2156
M=D
@13
D=A
@2157
M=D
@9
D=A
@2158
M=D
@14
D=A
@2159
M=D
@9
D=A
@2160
M=D
@15
D=A
@2161
M=D
@9
D=A
@2162
M=D
@16
D=A
@2163
M=D
@9
D=A
@2164
M=D
@17
D=A
@2165
M=D
@9
D=A
@2166
M=D
@18
D=A
@2167
M=D
@9
D=A
@2168
M=D
@19
D=A
@2169
M=D
@10
D=A
@2170
M=D
@11
D=A
@2171
M=D
@10
D=A
@2172
M=D
@12
D=A
@2173
M=D
@10
D=A
@2174
M=D
@13
D=A
@2175
M=D
@10
D=A
@2176
M=D
@14
D=A
@2177
M=D
@10
D=A
@2178
M=D
@15
D=A
@2179
M=D
@10
D=A
@2180
M=D
@16
D=A
@2181
M=D
@10
D=A
@2182
M=D
@17
D=A
@2183
M=D
@10
D=A
@2184
M=D
@18
D=A
@2185
M=D
@10
D=A
@2186
M=D
@19
D=A
@2187
M=D
@11
D=A
@2188
M=D
@12
D=A
@2189
M=D
@11
D=A
@2190
M=D
@13
D=A
@2191
M=D
@11
D=A
@2192
M=D
@14
D=A
@2193
M=D
@11
D=A
@2194
M=D
@15
D=A
@2195
M=D
@11
D=A
@2196
M=D
@16
D=A
@2197
M=D
@11
D=A
@2198
M=D
@17
D=A
@2199
M=D
@11
D=A
@2200
M=D
@18
D=A
@2201
M=D
@12
D=A
@2202
M=D
@13
D=A
@2203
M=D
@12
D=A
@2204
M=D
@14
D=A
@2205
M=D
@12
D=A
@2206
M=D
@15
D=A
@2207
M=D
@12
D=A
@2208
M=D
@16
D=A
@2209
M=D
@12
D=A
@2210
M=D
@17
D=A
@2211
M=D
@13
D=A
@2212
M=D
@14
D=A
@2213
M=D
@13
D=A
@2214
M=D
@15
D=A
@2215
M=D
@13
D=A
@2216
M=D
@16
D=A
@2217
M=D
@14
D=A
@2218
M=D
@15
D=A
@2219
M=D

@INSERTMAZE
0;JMP

(END)
0;JMP